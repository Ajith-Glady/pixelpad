<%- include('../partials/admin/header') %>

<!-- Container Main start -->
<div class="height-100 bg-light container">
   <h4> Customers</h4>
   <table class="table mt-5">
       <thead>
           <tr>
               <th scope="col">No</th>
               <th scope="col">Name</th>
               <th scope="col">Email</th>
               <th scope="col">Status</th>
               <th scope="col">Action</th>
           </tr>
       </thead>
       <tbody>
         <% user.forEach((ele, i) => { %>
            <tr>
               <th scope="row"><%= i + 1 %></th>
                <td><%- ele.name %></td>
                <td><%- ele.email %></td>
                <% if(ele.status == 'true') { %>
                <td class="text-success">Active</td>
                <% } else { %>
                  <td class="text-danger">Blocked</td>
                <% } %>

                <td>
                  <% if(ele.status == 'true') { %>
                      <a href="/admin/blockUser/<%- ele._id -%>"><button type="button" class="btn btn-primary btn-sm">Block</button></a>
                  <% } else { %>
                      <a href="/admin/unblockUser/<%- ele._id -%>"><button type="button" class="btn btn-primary btn-sm">Unblock</button></a>
                  <% } %>
              </td>
                
            </tr>
        <% }); %>
       </tbody>
   </table>

   <!-- Pagination -->
   <nav aria-label="Page navigation">
     <ul class="pagination justify-content-center">
       <% if (currentPage > 1) { %>
         <li class="page-item">
           <a class="page-link" href="/admin/users?page=<%= currentPage - 1 %>" aria-label="Previous">
             <span aria-hidden="true">&laquo;</span>
           </a>
         </li>
       <% } %>
       <% for (let i = 1; i <= totalPages; i++) { %>
         <li class="page-item <%= currentPage === i ? 'active' : '' %>">
           <a class="page-link" href="/admin/users?page=<%= i %>"><%= i %></a>
         </li>
       <% } %>
       <% if (currentPage < totalPages) { %>
         <li class="page-item">
           <a class="page-link" href="/admin/users?page=<%= currentPage + 1 %>" aria-label="Next">
             <span aria-hidden="true">&raquo;</span>
           </a>
         </li>
       <% } %>
     </ul>
   </nav>
 </div>
 <!-- Container Main end -->

<%- include('../partials/admin/footer') %>
